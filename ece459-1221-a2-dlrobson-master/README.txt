To compile and run the program, call "cargo run --release --bin <binary-name> -- <token> <max-length> [alphabet]".

For example, "cargo run --release --bin lab2 -- eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.shNrMqeoWA3La5bOmJ9rzGtX8rh4M9fR93HVbE3JQTA 4 abcdefghijklmnopqrstuvwxyz0123456789" should return the secret string "0123".

The possible binaries (defined in Cargo.toml) are "lab2", "message-passing", and "shared-mem".

The "lab2" binary is the single-threaded JWT cracker.
The "message-passing" binary is the sample multi-threaded message passing implementation.
The "shared-mem" binary is the sample multi-threaded shared state implementation.

Note that message-passing.rs and shared-mem.rs are initially identical to main.rs, and your job
is to modify them to use threads and either message passing or shared memory for communication.

A message passing solution should rely only on channels and have no direct use of mutexes, atomics,
or other shared state primitives.

A shared state solution should have no channels. This rule applies to code from outside the standard library as well.

cargo run --bin lab2 -- eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPbmxpbmUgSldUIEJ1aWxkZXIiLCJpYXQiOjE1OTQxNjE5NjIsImV4cCI6MTYyNTY5Nzk2MiwiYXVkIjoid3d3LmV4YW1wbGUuY29tIiwic3ViIjoianJvY2tldEBleGFtcGxlLmNvbSIsIkdpdmVuTmFtZSI6IkpvaG5ueSIsIlN1cm5hbWUiOiJSb2NrZXQiLCJFbWFpbCI6Impyb2NrZXRAZXhhbXBsZS5jb20iLCJSb2xlIjpbIk1hbmFnZXIiLCJQcm9qZWN0IEFkbWluaXN0cmF0b3IiXX0.dOqyg4rFU_QoSdKqOsmOXIVrTgygsT2AzDHL8gMZ17E 1 abcdefghijklmnopqrstuvwxyz0123456789
cargo run --bin shared-mem -- eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPbmxpbmUgSldUIEJ1aWxkZXIiLCJpYXQiOjE1OTQxNjE5NjIsImV4cCI6MTYyNTY5Nzk2MiwiYXVkIjoid3d3LmV4YW1wbGUuY29tIiwic3ViIjoianJvY2tldEBleGFtcGxlLmNvbSIsIkdpdmVuTmFtZSI6IkpvaG5ueSIsIlN1cm5hbWUiOiJSb2NrZXQiLCJFbWFpbCI6Impyb2NrZXRAZXhhbXBsZS5jb20iLCJSb2xlIjpbIk1hbmFnZXIiLCJQcm9qZWN0IEFkbWluaXN0cmF0b3IiXX0.dOqyg4rFU_QoSdKqOsmOXIVrTgygsT2AzDHL8gMZ17E 1 abcdefghijklmnopqrstuvwxyz0123456789
cargo run --bin message-passing -- eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPbmxpbmUgSldUIEJ1aWxkZXIiLCJpYXQiOjE1OTQxNjE5NjIsImV4cCI6MTYyNTY5Nzk2MiwiYXVkIjoid3d3LmV4YW1wbGUuY29tIiwic3ViIjoianJvY2tldEBleGFtcGxlLmNvbSIsIkdpdmVuTmFtZSI6IkpvaG5ueSIsIlN1cm5hbWUiOiJSb2NrZXQiLCJFbWFpbCI6Impyb2NrZXRAZXhhbXBsZS5jb20iLCJSb2xlIjpbIk1hbmFnZXIiLCJQcm9qZWN0IEFkbWluaXN0cmF0b3IiXX0.dOqyg4rFU_QoSdKqOsmOXIVrTgygsT2AzDHL8gMZ17E 1 abcdefghijklmnopqrstuvwxyz0123456789
expected: a

cargo run --bin lab2 -- eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPbmxpbmUgSldUIEJ1aWxkZXIiLCJpYXQiOjE1OTQxNjE5NjIsImV4cCI6MTYyNTY5Nzk2MiwiYXVkIjoid3d3LmV4YW1wbGUuY29tIiwic3ViIjoianJvY2tldEBleGFtcGxlLmNvbSIsIkdpdmVuTmFtZSI6IkpvaG5ueSIsIlN1cm5hbWUiOiJSb2NrZXQiLCJFbWFpbCI6Impyb2NrZXRAZXhhbXBsZS5jb20iLCJSb2xlIjpbIk1hbmFnZXIiLCJQcm9qZWN0IEFkbWluaXN0cmF0b3IiXX0.KpPBh8EWP0D965dNUscAnc2Q0Vb1-WLWegk_acd6rZI 3 abcdefghijklmnopqrstuvwxyz0123456789
cargo run --bin shared-mem -- eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPbmxpbmUgSldUIEJ1aWxkZXIiLCJpYXQiOjE1OTQxNjE5NjIsImV4cCI6MTYyNTY5Nzk2MiwiYXVkIjoid3d3LmV4YW1wbGUuY29tIiwic3ViIjoianJvY2tldEBleGFtcGxlLmNvbSIsIkdpdmVuTmFtZSI6IkpvaG5ueSIsIlN1cm5hbWUiOiJSb2NrZXQiLCJFbWFpbCI6Impyb2NrZXRAZXhhbXBsZS5jb20iLCJSb2xlIjpbIk1hbmFnZXIiLCJQcm9qZWN0IEFkbWluaXN0cmF0b3IiXX0.KpPBh8EWP0D965dNUscAnc2Q0Vb1-WLWegk_acd6rZI 3 abcdefghijklmnopqrstuvwxyz0123456789
cargo run --bin message-passing -- eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPbmxpbmUgSldUIEJ1aWxkZXIiLCJpYXQiOjE1OTQxNjE5NjIsImV4cCI6MTYyNTY5Nzk2MiwiYXVkIjoid3d3LmV4YW1wbGUuY29tIiwic3ViIjoianJvY2tldEBleGFtcGxlLmNvbSIsIkdpdmVuTmFtZSI6IkpvaG5ueSIsIlN1cm5hbWUiOiJSb2NrZXQiLCJFbWFpbCI6Impyb2NrZXRAZXhhbXBsZS5jb20iLCJSb2xlIjpbIk1hbmFnZXIiLCJQcm9qZWN0IEFkbWluaXN0cmF0b3IiXX0.KpPBh8EWP0D965dNUscAnc2Q0Vb1-WLWegk_acd6rZI 3 abcdefghijklmnopqrstuvwxyz0123456789
expected: aaa

cargo run --bin lab2 -- eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPbmxpbmUgSldUIEJ1aWxkZXIiLCJpYXQiOjE1OTQxNjE5NjIsImV4cCI6MTYyNTY5Nzk2MiwiYXVkIjoid3d3LmV4YW1wbGUuY29tIiwic3ViIjoianJvY2tldEBleGFtcGxlLmNvbSIsIkdpdmVuTmFtZSI6IkpvaG5ueSIsIlN1cm5hbWUiOiJSb2NrZXQiLCJFbWFpbCI6Impyb2NrZXRAZXhhbXBsZS5jb20iLCJSb2xlIjpbIk1hbmFnZXIiLCJQcm9qZWN0IEFkbWluaXN0cmF0b3IiXX0.PcrNM34a2vyKzJDnpi0h792zNuPchSKf4M577nhHnWE 4 abcdefghijklmnopqrstuvwxyz0123456789
cargo run --bin shared-mem  -- eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPbmxpbmUgSldUIEJ1aWxkZXIiLCJpYXQiOjE1OTQxNjE5NjIsImV4cCI6MTYyNTY5Nzk2MiwiYXVkIjoid3d3LmV4YW1wbGUuY29tIiwic3ViIjoianJvY2tldEBleGFtcGxlLmNvbSIsIkdpdmVuTmFtZSI6IkpvaG5ueSIsIlN1cm5hbWUiOiJSb2NrZXQiLCJFbWFpbCI6Impyb2NrZXRAZXhhbXBsZS5jb20iLCJSb2xlIjpbIk1hbmFnZXIiLCJQcm9qZWN0IEFkbWluaXN0cmF0b3IiXX0.PcrNM34a2vyKzJDnpi0h792zNuPchSKf4M577nhHnWE 4 abcdefghijklmnopqrstuvwxyz0123456789
cargo run --bin message-passing -- eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPbmxpbmUgSldUIEJ1aWxkZXIiLCJpYXQiOjE1OTQxNjE5NjIsImV4cCI6MTYyNTY5Nzk2MiwiYXVkIjoid3d3LmV4YW1wbGUuY29tIiwic3ViIjoianJvY2tldEBleGFtcGxlLmNvbSIsIkdpdmVuTmFtZSI6IkpvaG5ueSIsIlN1cm5hbWUiOiJSb2NrZXQiLCJFbWFpbCI6Impyb2NrZXRAZXhhbXBsZS5jb20iLCJSb2xlIjpbIk1hbmFnZXIiLCJQcm9qZWN0IEFkbWluaXN0cmF0b3IiXX0.PcrNM34a2vyKzJDnpi0h792zNuPchSKf4M577nhHnWE 4 abcdefghijklmnopqrstuvwxyz0123456789
expected: 05re

cargo run --bin lab2 -- eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.shNrMqeoWA3La5bOmJ9rzGtX8rh4M9fR93HVbE3JQTA 4 abcdefghijklmnopqrstuvwxyz0123456789
cargo run --bin shared-mem  -- eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.shNrMqeoWA3La5bOmJ9rzGtX8rh4M9fR93HVbE3JQTA 4 abcdefghijklmnopqrstuvwxyz0123456789
cargo run --bin message-passing -- eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.shNrMqeoWA3La5bOmJ9rzGtX8rh4M9fR93HVbE3JQTA 4 abcdefghijklmnopqrstuvwxyz0123456789
expected: 0123

cargo run --bin lab2 -- eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.2fQveXQ-Af9-aI4lwINSON5WN1EyLDqFoHCxd3hnGjA 5 abcdefghijklmnopqrstuvwxyz0123456789
cargo run --bin shared-mem -- eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.2fQveXQ-Af9-aI4lwINSON5WN1EyLDqFoHCxd3hnGjA 5 abcdefghijklmnopqrstuvwxyz0123456789
cargo run --bin message-passing -- eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.2fQveXQ-Af9-aI4lwINSON5WN1EyLDqFoHCxd3hnGjA 5 abcdefghijklmnopqrstuvwxyz0123456789
expected: 01234

cargo run --bin lab2 -- eyJhbGciOiJIUzI1NiJ9.eyJhYmMiOiIxMjM0NTY3ODkifQ.APSUDQjjLFzvLiHuWS07sBFZrcyAVhZ743wg88X4dLY 4 abcdefghijklmnopqrstuvwxyz0123456789
cargo run --bin shared-mem  -- eyJhbGciOiJIUzI1NiJ9.eyJhYmMiOiIxMjM0NTY3ODkifQ.APSUDQjjLFzvLiHuWS07sBFZrcyAVhZ743wg88X4dLY 4 abcdefghijklmnopqrstuvwxyz0123456789
cargo run --bin message-passing -- eyJhbGciOiJIUzI1NiJ9.eyJhYmMiOiIxMjM0NTY3ODkifQ.APSUDQjjLFzvLiHuWS07sBFZrcyAVhZ743wg88X4dLY 4 abcdefghijklmnopqrstuvwxyz0123456789
expected: saaa

cargo run --bin lab2 -- eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.Adqk174TwA_tiRQZTbmyg0agXUi3vSIHx7MqoQORs6U 5 abcdefghijklmnopqrstuvwxyz0123456789
cargo run --bin shared-mem -- eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.Adqk174TwA_tiRQZTbmyg0agXUi3vSIHx7MqoQORs6U 5 abcdefghijklmnopqrstuvwxyz0123456789
cargo run --bin message-passing -- eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.Adqk174TwA_tiRQZTbmyg0agXUi3vSIHx7MqoQORs6U 5 abcdefghijklmnopqrstuvwxyz0123456789
expected: saaaa

valgrind --tool=helgrind target/debug/shared-mem eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPbmxpbmUgSldUIEJ1aWxkZXIiLCJpYXQiOjE1OTQxNjE5NjIsImV4cCI6MTYyNTY5Nzk2MiwiYXVkIjoid3d3LmV4YW1wbGUuY29tIiwic3ViIjoianJvY2tldEBleGFtcGxlLmNvbSIsIkdpdmVuTmFtZSI6IkpvaG5ueSIsIlN1cm5hbWUiOiJSb2NrZXQiLCJFbWFpbCI6Impyb2NrZXRAZXhhbXBsZS5jb20iLCJSb2xlIjpbIk1hbmFnZXIiLCJQcm9qZWN0IEFkbWluaXN0cmF0b3IiXX0.KpPBh8EWP0D965dNUscAnc2Q0Vb1-WLWegk_acd6rZI 3 abcdefghijklmnopqrstuvwxyz0123456789
valgrind --tool=helgrind target/debug/message-passing eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPbmxpbmUgSldUIEJ1aWxkZXIiLCJpYXQiOjE1OTQxNjE5NjIsImV4cCI6MTYyNTY5Nzk2MiwiYXVkIjoid3d3LmV4YW1wbGUuY29tIiwic3ViIjoianJvY2tldEBleGFtcGxlLmNvbSIsIkdpdmVuTmFtZSI6IkpvaG5ueSIsIlN1cm5hbWUiOiJSb2NrZXQiLCJFbWFpbCI6Impyb2NrZXRAZXhhbXBsZS5jb20iLCJSb2xlIjpbIk1hbmFnZXIiLCJQcm9qZWN0IEFkbWluaXN0cmF0b3IiXX0.KpPBh8EWP0D965dNUscAnc2Q0Vb1-WLWegk_acd6rZI 3 abcdefghijklmnopqrstuvwxyz0123456789

time target/debug/message-passing eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.2fQveXQ-Af9-aI4lwINSON5WN1EyLDqFoHCxd3hnGjA 5 abcdefghijklmnopqrstuvwxyz0123456789
